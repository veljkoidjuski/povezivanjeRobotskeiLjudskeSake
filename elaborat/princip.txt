\textls[250]{2. 1. \textit{Математички основи}}
\vskip.5\baselineskip

{\textit{Модел ,,Kиндерица''}.$^{(1)}$ Нек је $x$ ортогонална пројекција врха прста на осу паралелну прсту када је опружен, $\Delta l$ --- промена дужине дела тетиве унутар прста, $\phi_0$ --- угао усека на прсту када је опружен, а $\sigma_0 = \text{\fontspec{Latin Modern Math} tg} \frac{\phi_0}{2}$. Врх прста роботске шаке креће се по закону (1).
\vskip-0.5\baselineskip
\begin{equation}
{x = 2l \left ( 2\tau^3 + \tau^2 - \tau \right )}
\end{equation}
\vskip-0.25\baselineskip
\centerline{$
\tau = \cos \left(\phi_0 - 2 \,\text{\fontspec{Latin Modern Math} arctg} \left(\sigma_0 - \frac{\Delta l}{6}\right)\right)$}
\vskip0.5\baselineskip
\textit{Тријангулација тачке}.$^{(2)}$ Нека је $\bm{R}$ тачка у простору коју две камере у сопственим координатним системима виде као $\bm{r_1}$ и $\bm{r_2}$. Нек су ,,матрице камера'' $\bm{P_1}$ и $\bm{P_2}$. Знајући $\bm{r_1}$, $\bm{r_2}$, $\bm{P_1}$ и $\bm{P_2}$, $\bm{R}$ се може наћи решавањем система једначина (2).
\vskip-0.5\baselineskip
\begin{equation}
{\bm{r_1} \times \bm{P_1}\bm{R} = \bm{0}} \quad \wedge \quad {\bm{r_2} \times \bm{P_2}\bm{R} = \bm{0}}
\end{equation}
\vskip0.5\baselineskip
\textit{Сингуларна декомпозиција матрице}.$^{(3)}$ Свака матрица може се записати у облику производа матрица $\bm{U}\bm{\mathit{\Sigma}} \bm{V}^\dagger$, где су $\bm{U}$ и $\bm{V}^\dagger$ ротације, а $\bm{\mathit{\Sigma}}$ --- скалирање.
\vskip.5\baselineskip
\textls[250]{2. 2. \textit{Хардвер пројекта}}$^{(4)}$
\vskip.5\baselineskip

Пројекат је сегментован у две целине: систем $\alpha$ и систем $\omega$. Систем $\alpha$ бави се прихватом и обрадом података, а систем $\omega$ извршним делом пројекта.

Систем $\alpha$ чине IBM-PC-компатибилан рачунар и две веб-камере постављене у хоризонталној равни, тако да су им сопствене $x$ осе ортогоналне, а сопствене $y$ осе паралелне. За потребе фиксирања положаја камера израђен је нарочит сталак од картона.

Електрична шема система $\omega$ може се видети на слици . Чине га роботска шака, серво мотори и платформа Arduino Uno.

Роботска шака јесте главна компонента система $\omega$. Израђенa је од обликованог комада шперплоче који чини основу шаке и комада баштенског црева који одговарају људским прстима. Управљање прстима врши се танким синтетичким канапима --- тетивама. Сваки прст има две тетиве, тј. два степена слободе кретања. Тренутно је у употреби само једна тетива по прсту, па се прсти крећу с једним степеном слободе.

Серво мотори омогућавају регулисано повлачење тетива. Користе се серво мотори SG-5010 уграђени у подлактицу модела. За управљање моторима користи се микроконтролерска платформа Arduino Uno, која генерише одговарајуће PWM сигнале. Мотори се, због велике укупне снаге, напајају лабораторијским напајањем.

\vskip.5\baselineskip
\textls[250]{2. 3. \textit{Софтвер пројекта}}
\vskip.5\baselineskip

Софтвер система $\alpha$ чине програм за калибрацију камере, програм за анализу слике, програм за тријангулацију тачке, програм за одређивање управљачких бројева и програм за кодовање и слање порука систему $\omega$. Програмски к\^од система $\alpha$ писан је у програмском језику Python, помоћу библиотека \verb!numpy!, \verb!opencv! и \verb!pyserial!. До тренутка писања рада нису завршени програм за анализу слике и програм за одређивање управљачких бројева.

Калибрација камере јесте операција којом се добија матрица $\bm{K}$, која пројектује тачке простора у сопственом координатном систему камере на раван слике. Матрица $\bm{P}$, потребна за тријангулацију тачака, јесте матрица $\bm{K}$ изражена у спољним координатама. За потребе калибрације користе се тест-слике шаховнице утврђених димензија. Калибрација камере врши се функцијом \verb!calibrateCamera! библиотеке \verb!opencv!, којој се прослеђују координате углова унутар шаховнице на свакој тест-слици (које се проналазе функцијом \verb!findChessboardCorners! исте библиотеке), координате углова унутар шаховнице у њеном сопственом координатном систему и димензије тест-слика.

Програм за тријангулацију тачке решава систем једначина (2) применом сингуларне декомпозиције матрице, коју омогућава функција \verb!svd! библиотеке \verb!numpy!. Проблем тријангулације своди се на минимизацију $| \bm{A} \bm{\hat{R}} |$ по $\bm{\hat{R}}$, где је $\bm{A}$ матрица у зависности од $\bm{r_1}, \bm{r_2}, \bm{P_1}$ и $\bm{P_2}$. To се савладава узимањем за решење оне колоне матрице $\bm{V}$ која се (након транспоновања) множи најмањим бројем из (дијагоналне) матрице $\bm{\mathit\Sigma}$, а то је по дефиницији крајња десна.

Програм за кодовање и слање порука кодује излаз програма за одређивање управљачких бројева у поруку облика $\overline{A_1A_2A_3B_1B_2B_3C_1C_2C_3D_1D_2D_3E_1E_2E_3N}$, где је $A_{i}$ репрезентација у коду ASCII $i$-те цифре слева троцифрене декадне репрезентације броја $A$, $B_{i}$ --- броја $B$, итд. $N$ је знак кода ASCII за нови ред. Број $A$ одговара палцу, број $B$ кажипрсту итд. Добијену $128$-битну поруку програм шаље USB комуникацијом систему $\omega$ помоћу метода \verb!write! класе \verb!Serial! библиотеке \verb!pyserial!, којој се као једини параметар прослеђује бинарна порука.

Софтвер система $\omega$ писан је у програмском језику C$++$, помоћу хедера \verb!Arduino.h!, и крајње је једноставан. Када Аrduino прими поруку од система $\alpha$ (детектује подизање заставице \verb!available! класе \verb!Serial!), чува је у ниску предвиђену за ту намену помоћу метода \verb!readString! класе \verb!Serial!, цепа је на трословне сегменте и одбацује знак за нови ред. Трословне сегменте потом тумачи као декадне бројеве помоћу метода \verb!toInt! класе \verb!String! те на основу њих генерише PWM сигнале за серво моторе прстију.
